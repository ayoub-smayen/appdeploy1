(this.webpackJsonpchitchat=this.webpackJsonpchitchat||[]).push([[0],{14:function(e,t,n){},23:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(3),s=n.n(c),r=n(15),a=n.n(r),o=(n(14),n(23),n(13)),i=n.n(o),l=n(16),u=n(10),d=n(9),b=(n(30),n(26),n(17)),h=n(18),p=n(4);d.a.apps.length||d.a.initializeApp({apiKey:"AIzaSyBU7In8c9YE-BlenookpL7bGZm48eBv5n8",authDomain:"appchat1-845eb.firebaseapp.com",projectId:"appchat1-845eb",storageBucket:"appchat1-845eb.appspot.com",messagingSenderId:"1036099898203",appId:"1:1036099898203:web:c4900a24a10f12abe4287e",measurementId:"G-BBRJKT9BWC"});var j=d.a.auth(),m=d.a.firestore();function x(){return Object(p.jsxs)("div",{className:"flex flex-col h-screen items-center justify-center",children:[Object(p.jsxs)("button",{className:"mt-auto bg-white outline-none focus:outline-none p-2 m-3 border-b-4 border-gray-500 hover:bg-gray-200 hover:border-gray-500 transition-all duration-75 ease-in-out rounded inline-flex items-center",onClick:function(){var e=new d.a.auth.GoogleAuthProvider;j.signInWithPopup(e)},children:[Object(p.jsx)("img",{className:"w-5 mr-2 block",src:"/google-icon.svg",alt:"Google Icon"}),Object(p.jsx)("span",{className:"block",children:"Sign In With Google"})]}),Object(p.jsx)("p",{className:"text-white text-opacity-50 text-center hover:text-opacity-100 text-sm",children:" chat with google account  "}),Object(p.jsxs)("p",{className:"justify-self-end mt-auto text-white text-center text-opacity-50 hover:text-opacity-100",children:["Made by ",Object(p.jsx)("a",{className:"hover:text-yellow-500",href:"https://ayoubjobs2019.wixsite.com/monsite-1",children:"chat "})," w/ inspiration from ",Object(p.jsx)("a",{className:"hover:text-red-500",href:"https://ayoubjobs2019.wixsite.com/monsite-1",children:"chat"})]})]})}function f(){return j.currentUser&&Object(p.jsx)("div",{className:"w-full",children:Object(p.jsx)("button",{className:"absolute hover:shadow-xl hover:text-pink-900 transition-all duration-75 ease-in-out rounded-full p-2 bg-white signout-btn material-icons",onClick:function(){return j.signOut()},children:"exit_to_app"})})}function g(){var e=Object(c.useRef)(),t=m.collection("messages"),n=t.orderBy("createdAt","asc").limitToLast(25),s=Object(h.a)(n,{idField:"id"}),r=Object(u.a)(s,1)[0],a=Object(c.useState)(""),o=Object(u.a)(a,2),b=o[0],x=o[1];Object(c.useEffect)((function(){e.current.scrollIntoView({behavior:"smooth"})}),[r]);var f=function(){var n=Object(l.a)(i.a.mark((function n(c){var s,r,a,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),s=j.currentUser,r=s.displayName,a=s.uid,o=s.photoURL,n.next=4,t.add({user:r,body:b,createdAt:d.a.firestore.FieldValue.serverTimestamp(),uid:a,photoURL:o});case 4:x(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"chat-bg w-full sm:w-2/3 p-2 rounded",children:[Object(p.jsxs)("div",{className:"overflow-y-auto h-screen-90",children:[r&&r.map((function(e){return Object(p.jsx)(v,{message:e},e.id)})),Object(p.jsx)("span",{ref:e})]}),Object(p.jsxs)("form",{onSubmit:f,className:"pt-3 w-full inline-flex",children:[Object(p.jsx)("input",{className:"rounded-3xl px-3 w-full py-1 outline-none focus:shadow",value:b,onChange:function(e){return x(e.target.value)},placeholder:"Say something"}),Object(p.jsx)("button",{className:"material-icons p-2 mx-2 bg-white rounded-full transition-all duration-75 ease-in-out text-xl ".concat(!b||"text-pink-700 hover:text-pink-900"),type:"submit",disabled:!b,children:"send"})]})]})}function v(e){var t=e.message,n=t.user,c=t.body,s=t.uid,r=t.photoURL,a=(t.createdAt,s===j.currentUser.uid?"flex-row-reverse":"flex-row"),o=s===j.currentUser.uid?"sent-message-bg text-right":"received-message-bg",i=s===j.currentUser.uid?"ml-2":"mr-2";return Object(p.jsxs)("div",{className:"px-3 py-2 flex no-wrap items-start ".concat(a),children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{className:"block rounded-full object-cover w-10 ".concat(i),src:r||"https://i.imgur.com/rFbS5ms.png",alt:"{user}'s pfp"})}),Object(p.jsxs)("div",{className:"block w-80 break-words p-2 rounded-md ".concat(o),children:[Object(p.jsx)("p",{className:"text-xs",children:n}),Object(p.jsx)("p",{children:c})]})]})}var O=function(){var e=Object(b.a)(j),t=Object(u.a)(e,1)[0];return Object(p.jsxs)("div",{className:"App border-bg h-screen",children:[Object(p.jsx)(f,{}),Object(p.jsx)("section",{className:"flex justify-center items-center h-screen",children:t?Object(p.jsx)(g,{}):Object(p.jsx)(x,{})})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(O,{})}),document.getElementById("root")),w()}},[[29,1,2]]]);
//# sourceMappingURL=main.f5b04cde.chunk.js.map